## MODIFIED Requirements

### Requirement: 统计执行

系统 SHALL 在用户点击统计按钮后，执行 Git 命令获取数据并计算统计结果。

#### Scenario: 成功执行统计

- **WHEN** 用户点击"开始统计"按钮，所有参数有效（分支存在、时间范围合法、作者存在）
- **THEN** 系统应执行 Git 命令，计算统计数据，在 UI 中显示结果表格，表格应显示作者、提交次数、增加行数、删除行数、修改文件数，以及总计行

#### Scenario: 无结果处理

- **WHEN** 指定条件下没有任何提交记录
- **THEN** 系统应显示"统计完成，共 0 个作者"提示，表格为空（仅显示表格头）

#### Scenario: Git 命令执行失败

- **WHEN** 当前项目不是 Git 仓库或 Git 命令执行出错
- **THEN** 系统应显示错误提示信息，例如 "当前项目不是有效的 Git 仓库" 或 "Git 命令执行失败: [错误详情]"

#### Scenario: 表格数据正确显示

- **WHEN** 统计结果包含多个作者的数据
- **THEN** 系统应正确显示数值数据（整数格式，不是字符串），表格应自动刷新，最后一行显示"总计"行

#### Scenario: 命令执行超时

- **WHEN** Git 命令执行时间过长（>30秒）
- **THEN** 系统应取消该命令执行，显示超时提示，避免 IDE 卡顿

## ADDED Requirements

### Requirement: 结果排序

系统 SHALL 支持用户通过点击表格列头对统计结果进行排序，无需额外的选择器。

#### Scenario: 按列头点击排序

- **WHEN** 用户点击表格列头（提交次数、增加行数、删除行数、修改文件数）
- **THEN** 系统应按该列进行排序，再次点击该列头应切换排序方向（升序 ↔ 降序），表格应实时刷新，最后显示"总计"行

#### Scenario: 排序后的总计行

- **WHEN** 排序完成后
- **THEN** 表格的最后一行始终应显示"总计"行，其值为所有作者数据的汇总（不参与排序），确保总计行始终在表格最后

